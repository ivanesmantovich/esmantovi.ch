---
import Home from '../../components/Home.astro'
import Layout from '../../layouts/Layout.astro'
---

<Layout navigationOpened={true}>
  <Home />
  <div class="navigation-overlay" id="navigation-overlay">
    <div class="navigation-content">
      <h2 class="home">Home</h2>
      <h2 class="notes">Notes</h2>
      <h2 class="projects">Projects</h2>
      <h2 class="about">About</h2>
    </div>
  </div>
</Layout>

<script>
  import { navigate } from 'astro:transitions/client'

  document.addEventListener('astro:page-load', () => {
    const overlay = document.getElementById('navigation-overlay')

    const handleClose = () => {
      navigate('/')
    }

    overlay?.addEventListener('click', (e) => {
      if (e.target === overlay) {
        handleClose()
      }
    })
  })
</script>

<style>
  h2 {
    font-weight: 400;
  }

  :root:has(.navigation-overlay) {
    overflow: hidden;
  }

  .navigation-overlay {
    position: fixed;
    z-index: 200;
    top: 0;
    left: 0;

    width: 100%;
    height: 100%;

    background-color: rgba(245, 245, 247, 0.3);
    -webkit-backdrop-filter: blur(24px);
    backdrop-filter: blur(24px);

    view-transition-name: overlay;
  }

  .navigation-content {
    position: absolute;
    bottom: 200px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10000;

    width: min-content;
    padding-top: 24px;
    border-radius: 16px;

    /* background-color: white;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 0px 16px 0px; */
  }

  .home {
    view-transition-name: home;
  }

  .notes {
    view-transition-name: notes;
  }

  .projects {
    view-transition-name: projects;
  }

  .about {
    view-transition-name: about;
  }
</style>
