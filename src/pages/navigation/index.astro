---
import Home from '../../components/Home.astro'
import Layout from '../../layouts/Layout.astro'
import NavigationMenu from '../../components/NavigationMenu.astro'
---

<Layout navigationOpened={true}>
  <Home navigationOpened={true} />
  <div class="navigation-overlay" id="navigation-overlay">
    <div class="navigation-container" id="navigation-container">
      <NavigationMenu opened={true} />
    </div>
  </div>
</Layout>

<script>
  import { navigate } from 'astro:transitions/client'

  document.addEventListener('astro:page-load', () => {
    const overlay = document.getElementById('navigation-overlay')

    const handleClose = () => {
      navigate('/')
    }

    overlay?.addEventListener('click', (e) => {
      handleClose()
    })
  })
</script>

<style>
  :root:has(.navigation-overlay) {
    overflow: hidden;
  }

  .navigation-overlay {
    position: fixed;
    z-index: 200;
    top: 0;
    left: 0;

    width: 100%;
    height: 100%;

    background-color: rgba(255, 255, 255, 0.6);
    -webkit-backdrop-filter: blur(24px);
    backdrop-filter: blur(24px);

    view-transition-name: overlay;
  }

  .navigation-container {
    display: flex;
    align-items: end;

    width: 100%;
    max-width: 1024px;
    height: 100%;
    margin: 0 auto;
    padding-right: 4%;
    padding-left: 4%;
  }

  .navigation-content {
    width: min-content;
    padding-bottom: 100px;
    padding-left: 25px;
    view-transition-name: navigation-content;
  }

  ul {
    list-style: none;
  }

  a {
    display: flex;
    gap: 20px;
    align-items: center;

    padding: 20px 14px;

    font-size: 26px;
    color: #0e0e0d;
    text-decoration: none;
  }

  .icon-container {
    display: flex;
    align-items: center;
    justify-content: center;

    padding: 8px;
    border-radius: 100%;
  }

  svg {
    width: 31px;
    height: 31px;
  }

  .icon-container.home {
    background-color: #00c1ff;

    svg {
      fill: #ffffff;
    }
  }

  .icon-container.notes {
    background-color: #ffdd00;

    svg {
      stroke: #4c1b00;
    }
  }

  .icon-container.lab {
    background-color: #dededf;

    svg {
      fill: #141515;
    }
  }

  .icon-container.about {
    background-color: #ff7044;

    svg {
      fill: white;
    }
  }
</style>
