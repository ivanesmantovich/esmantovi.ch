---
import Home from '../../components/Home.astro'
import Layout from '../../layouts/Layout.astro'
---

<Layout navigationOpened={true}>
  <Home navigationOpened={true} />
  <div class="navigation-overlay" id="navigation-overlay">
    <div class="navigation-container" id="navigation-container">
      <div class="navigation-content">
        <ul>
          <li>
            <a href="/" class="home">
              <div class="icon-container home">
                <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512">
                  <path
                    d="M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z"
                  ></path>
                  <path
                    d="M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"
                  ></path>
                </svg>
              </div>
              Home
            </a>
          </li>
          <li>
            <a href="/notes" class="notes">
              <div class="icon-container notes">
                <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"
                  ><path
                    fill="none"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="44"
                    d="M358.62 129.28L86.49 402.08 70 442l39.92-16.49 272.8-272.13-24.1-24.1zM413.07 74.84l-11.79 11.78 24.1 24.1 11.79-11.79a16.51 16.51 0 000-23.34l-.75-.75a16.51 16.51 0 00-23.35 0z"
                  ></path></svg
                >
              </div>
              Notes
            </a>
          </li>
          <li>
            <a href="/lab" class="lab">
              <div class="icon-container lab">
                <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"
                  ><path
                    d="M452.32 365L327.4 167.12a48.07 48.07 0 01-7.4-25.64V64h15.56c8.61 0 16-6.62 16.43-15.23A16 16 0 00336 32H176.45c-8.61 0-16 6.62-16.43 15.23A16 16 0 00176 64h16v77.48a47.92 47.92 0 01-7.41 25.63L59.68 365a74 74 0 00-2.5 75.84C70.44 465.19 96.36 480 124.13 480h263.74c27.77 0 53.69-14.81 66.95-39.21a74 74 0 00-2.5-75.79zM211.66 184.2A79.94 79.94 0 00224 141.48V68a4 4 0 014-4h56a4 4 0 014 4v73.48a79.94 79.94 0 0012.35 42.72l57.8 91.53a8 8 0 01-6.78 12.27H160.63a8 8 0 01-6.77-12.27z"
                  ></path></svg
                >
              </div>
              Lab
            </a>
          </li>
          <li>
            <a href="/about" class="about">
              <div class="icon-container about">
                <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"
                  ><path
                    d="M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z"
                  ></path><path
                    d="M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z"
                  ></path></svg
                >
              </div>
              About
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</Layout>

<script>
  import { navigate } from 'astro:transitions/client'

  document.addEventListener('astro:page-load', () => {
    const overlay = document.getElementById('navigation-overlay')

    const handleClose = () => {
      navigate('/')
    }

    overlay?.addEventListener('click', (e) => {
      handleClose()
    })
  })
</script>

<style>
  :root:has(.navigation-overlay) {
    overflow: hidden;
  }

  .navigation-overlay {
    position: fixed;
    z-index: 200;
    top: 0;
    left: 0;

    width: 100%;
    height: 100%;

    background-color: rgba(245, 245, 247, 0.3);
    -webkit-backdrop-filter: blur(24px);
    backdrop-filter: blur(24px);

    view-transition-name: overlay;
  }

  .navigation-container {
    display: flex;
    align-items: end;

    width: 100%;
    max-width: 1024px;
    height: 100%;
    margin: 0 auto;
    padding-right: 4%;
    padding-left: 4%;
  }

  .navigation-content {
    width: min-content;
    padding-bottom: 100px;
    padding-left: 10px;
    view-transition-name: navigation-content;
  }

  ul {
    list-style: none;
  }

  a {
    display: flex;
    gap: 20px;
    align-items: center;

    padding: 20px 14px;

    font-size: 26px;
    color: #0e0e0d;
    text-decoration: none;
  }

  .icon-container {
    display: flex;
    align-items: center;
    justify-content: center;

    padding: 8px;
    border-radius: 100%;
  }

  svg {
    width: 31px;
    height: 31px;
  }

  .icon-container.home {
    background-color: #00c1ff;

    svg {
      fill: #ffffff;
    }
  }

  .icon-container.notes {
    background-color: #ffdd00;

    svg {
      stroke: #4c1b00;
    }
  }

  .icon-container.lab {
    background-color: #dededf;

    svg {
      fill: #141515;
    }
  }

  .icon-container.about {
    background-color: #ff7044;

    svg {
      fill: white;
    }
  }
</style>
